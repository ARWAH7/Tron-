# 需求文档

## 简介

本规范解决珠盘路组件中的两个关键问题：

1. **滚动和显示问题**：最新数据被遮挡，滚动条不显示，初始位置错误
2. **悬停提示框问题**：显示单个数字的派生值（0-9），而不是完整的区块高度（7-8位数字，如68819234）

这些修复将改善用户体验，使珠盘路的行为与走势图保持一致。

## 术语表

- **珠盘路（Bead_Road）**: 以列格式显示区块链区块结果的可视化网格组件
- **走势图（Trend_Chart）**: 以不同视觉格式显示区块结果的相关组件（大路）
- **区块高度（Block_Height）**: 区块链区块的序列号（例如：68819234）
- **结果值（Result_Value）**: 从区块哈希中提取的派生单位数值（0-9），用于单双和大小分类
- **网格单元（Grid_Cell）**: 表示珠盘路网格中单个单元格的数据结构
- **悬停提示框（Hover_Tooltip）**: 当用户悬停在珠盘路单元格上时出现的小弹窗
- **滚动容器（Scroll_Container）**: 包含可滚动内容的容器元素
- **初始滚动位置（Initial_Scroll_Position）**: 组件首次加载时的滚动位置

## 需求

### 需求 1：修复珠盘路滚动和显示问题

**用户故事：** 作为用户，我希望珠盘路的滚动行为与走势图一致，以便我能够看到最新的数据并通过滚动条查看历史数据。

#### 验收标准

1. WHEN 珠盘路首次加载时，THE 滚动位置 SHALL 自动滚动到最右边，显示最新数据
2. WHEN 珠盘路内容超过容器宽度时，THE 系统 SHALL 显示横向滚动条
3. WHEN 用户使用滚动条时，THE 系统 SHALL 允许用户查看所有历史数据
4. THE 珠盘路最新数据 SHALL NOT 被遮挡或隐藏
5. THE 珠盘路滚动行为 SHALL 与走势图保持一致
6. THE 滚动容器 SHALL NOT 使用过大的 minWidth 值导致滚动失效
7. THE 内容容器 SHALL 在右侧添加适当的 padding（pr-2）以防止内容紧贴边缘

### 需求 2：在悬停提示框中显示区块高度

**用户故事：** 作为用户，我希望在悬停珠盘路单元格时看到完整的区块高度，以便我能识别该单元格代表的具体区块链区块。

#### 验收标准

1. WHEN 用户悬停在已填充的珠盘路单元格上时，THE 悬停提示框 SHALL 显示区块高度（7-8位数字）
2. WHEN 用户悬停在空的珠盘路单元格上时，THE 悬停提示框 SHALL NOT 显示
3. THE 珠盘路 SHALL 在网格单元的value字段中存储区块高度而不是结果值
4. WHEN 在calculateBeadGrid()中创建网格单元时，THE 系统 SHALL 将block.height赋值给cell.value
5. THE 悬停提示框 SHALL 以可读格式显示数值，不使用科学计数法

### 需求 3：保持数据结构兼容性

**用户故事：** 作为开发者，我希望网格单元接口与现有组件保持兼容，以便更改不会破坏应用程序的其他部分。

#### 验收标准

1. THE 网格单元接口 SHALL 保持可选的value字段（value?: number）
2. WHEN 其他组件使用网格单元时，THE 系统 SHALL 继续正常运行而不出错
3. THE calculateBeadGrid函数 SHALL 仅修改value赋值，不修改函数签名
4. THE renderCell函数 SHALL 仅修改提示框显示，不修改单元格渲染逻辑
5. THE 走势图组件 SHALL NOT 受到珠盘路修改的影响
